# V2EX TUI

一个基于终端的 V2EX 查看器，使用 V2EX API 2.0 Beta。

## ⚠️ 警告

**本项目完全由 Vibe Coding（AI 辅助编程）开发完成。** 代码未经充分的人工审查和测试，可能存在安全漏洞、稳定性问题或其他缺陷。

**使用风险自负！** 请谨慎使用，尤其是在处理敏感信息或生产环境中。

## 功能特性

- 🖥️ 终端界面，无需浏览器
- 📋 浏览节点主题列表
- 📖 查看主题详情和回复
- 🔗 **链接选择模式** - 快速打开主题中的链接
- 📋 **剪贴板支持** - 复制主题或回复内容
- 📰 **RSS 聚合视图** - 查看 V2EX 官方 RSS 订阅
- 🔔 查看通知、个人资料
- 🌐 在浏览器中打开内容
- 📜 **智能导航** - 到达末尾时自动加载更多内容

## 快速开始

### 1. 获取 Token
访问 https://www.v2ex.com/settings/tokens 创建 Personal Access Token

### 2. 保存 Token
```bash
mkdir -p ~/.config/v2ex
echo "YOUR_TOKEN" > ~/.config/v2ex/token.txt
chmod 600 ~/.config/v2ex/token.txt
```

### 3. 运行
```bash
cargo run --release
# 或
nix-shell --run "cargo run --release"
```

## 快捷键

### 全局导航

| 按键 | 功能 |
|------|------|
| `n` / `↓` | 向下移动（下一个）/ 向下滚动 |
| `p` / `↑` | 向上移动（上一个）/ 向上滚动 |
| `l` / `←` | 历史后退（上一个视图） |
| `r` / `→` | 历史前进（下一个视图） |
| `Space` | 向下滚动 |
| `C-v` | 向下翻页（Ctrl+v） |
| `M-v` | 向上翻页（Alt+v） |
| `PageUp` | 向上翻页 / 快速向上滚动 |
| `PageDown` | 向下翻页 / 快速向下滚动 |
| `<` / `>` | 跳到第一个/最后一个项目 |

### 全局操作

| 按键 | 功能 |
|------|------|
| `Enter` | 打开选中的主题/通知 |
| `g` | 刷新当前视图 |
| `m` | 转到通知（消息） |
| `u` | 转到个人资料（用户） |
| `a` | 转到聚合主题（RSS 订阅） |
| `?` | 显示帮助 |
| `q` / `Esc` | 退出 / 从历史中移除当前视图 |
| `C-c` | **立即退出应用** |

### 主题列表

| 按键 | 功能 |
|------|------|
| `s` | 从菜单选择节点 |
| `1-9` | 快速切换节点（1:python, 2:programmer, 3:分享发现, 4:分享创造, 5:酷工作, 6:go, 7:rust, 8:javascript, 9:linux） |
| `Enter` / `t` / `l` | 打开选中的主题 |
| `+` | 加载更多主题（在末尾时自动加载） |
| `n` | 下一个主题（到达末尾自动加载更多） |

### 主题详情

| 按键 | 功能 |
|------|------|
| `t` | 切换回复显示 |
| `o` | 在浏览器中打开主题/回复 |
| `f` | 进入链接选择模式 |
| `w` | 将选中的回复复制到剪贴板 |
| `N` / `P` | 在主题之间导航（自动加载更多） |
| `1-9` | 打开检测到的链接（当内容中找到链接时） |
| `+` | 加载更多回复（在末尾时自动加载） |
| `n` / `↓` | 下一条回复（到达末尾自动加载更多） |
| `p` / `↑` | 上一条回复 |

### 链接选择模式

| 按键 | 功能 |
|------|------|
| `a,o,e,u,i,d,h,t,n,s` | 输入链接快捷键（主行字母） |
| `Esc` / `q` / `C-g` | 取消链接选择 |

### 聚合主题（RSS）

| 按键 | 功能 |
|------|------|
| `t` / `c` / `k` | 切换到 tech/creative/play 标签 |
| `a` / `j` / `d` | 切换到 apple/jobs/deals 标签 |
| `y` / `z` / `i` | 切换到 city/qna/index 标签 |
| `n` / `p` | 导航主题 |
| `Enter` | 在应用中打开选中的主题 |
| `o` | 在浏览器中打开选中的主题 |
| `g` | 刷新当前视图 |

### 节点选择

| 按键 | 功能 |
|------|------|
| `n` / `p` | 导航节点列表 |
| `Enter` | 选择节点 |
| `Tab` | 切换手动输入模式 |
| `q`（输入模式）| 输入字符 'q' |

### 通知视图

| 按键 | 功能 |
|------|------|
| `n` / `p` | 导航通知 |
| `Enter` | 打开选中的通知 |
| `g` | 刷新通知 |

### 个人资料视图

| 按键 | 功能 |
|------|------|
| `g` | 刷新个人资料 |

## 智能导航功能

### 自动加载
- 在主题列表按 `n` 到达最后一个主题时，自动加载更多主题
- 在回复列表按 `n` 到达最后一条回复时，自动加载更多回复
- 在主题详情按 `N` 到达最后一个主题时，自动加载更多主题

### 边界提示
- 到达第一个/最后一个项目时显示提示信息，而不是循环回到开头
- 提示信息："Already at the first topic/reply" 或 "Already at the last topic/reply"

## 项目链接

- **GitHub**: https://github.com/fuzy112/v2ex-tui
- **V2EX**: https://www.v2ex.com

## 技术栈

- **Rust** + **Tokio** - 高性能异步运行时
- **Ratatui** + **Crossterm** - 现代化终端界面框架
- **Reqwest** + **Serde** - HTTP客户端与JSON处理
- **Nix** - 声明式开发环境管理

## 许可证

MIT

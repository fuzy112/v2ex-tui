# V2EX TUI

ä¸€ä¸ªåŸºäºç»ˆç«¯çš„ V2EX æŸ¥çœ‹å™¨ï¼Œä½¿ç”¨ V2EX API 2.0 Betaã€‚

## âš ï¸ è­¦å‘Š

**æœ¬é¡¹ç›®å®Œå…¨ç”± Vibe Codingï¼ˆAI è¾…åŠ©ç¼–ç¨‹ï¼‰å¼€å‘å®Œæˆã€‚** ä»£ç æœªç»å……åˆ†çš„äººå·¥å®¡æŸ¥å’Œæµ‹è¯•ï¼Œå¯èƒ½å­˜åœ¨å®‰å…¨æ¼æ´ã€ç¨³å®šæ€§é—®é¢˜æˆ–å…¶ä»–ç¼ºé™·ã€‚

**ä½¿ç”¨é£é™©è‡ªè´Ÿï¼** è¯·è°¨æ…ä½¿ç”¨ï¼Œå°¤å…¶æ˜¯åœ¨å¤„ç†æ•æ„Ÿä¿¡æ¯æˆ–ç”Ÿäº§ç¯å¢ƒä¸­ã€‚

## åŠŸèƒ½ç‰¹æ€§

- ğŸ–¥ï¸ ç»ˆç«¯ç•Œé¢ï¼Œæ— éœ€æµè§ˆå™¨
- ğŸ“‹ æµè§ˆèŠ‚ç‚¹ä¸»é¢˜åˆ—è¡¨
- ğŸ“– æŸ¥çœ‹ä¸»é¢˜è¯¦æƒ…å’Œå›å¤
- ğŸ”— **é“¾æ¥é€‰æ‹©æ¨¡å¼** - å¿«é€Ÿæ‰“å¼€ä¸»é¢˜ä¸­çš„é“¾æ¥
- ğŸ“‹ **å‰ªè´´æ¿æ”¯æŒ** - å¤åˆ¶ä¸»é¢˜æˆ–å›å¤å†…å®¹
- ğŸ“° **RSS èšåˆè§†å›¾** - æŸ¥çœ‹ V2EX å®˜æ–¹ RSS è®¢é˜…
- ğŸ”” æŸ¥çœ‹é€šçŸ¥ã€ä¸ªäººèµ„æ–™
- ğŸŒ åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€å†…å®¹
- ğŸ“œ **æ™ºèƒ½å¯¼èˆª** - åˆ°è¾¾æœ«å°¾æ—¶è‡ªåŠ¨åŠ è½½æ›´å¤šå†…å®¹

## å¿«é€Ÿå¼€å§‹

### 1. è·å– Token
è®¿é—® https://www.v2ex.com/settings/tokens åˆ›å»º Personal Access Token

### 2. ä¿å­˜ Token
```bash
mkdir -p ~/.config/v2ex
echo "YOUR_TOKEN" > ~/.config/v2ex/token.txt
chmod 600 ~/.config/v2ex/token.txt
```

### 3. è¿è¡Œ
```bash
cargo run --release
# æˆ–
nix-shell --run "cargo run --release"
```

## é…ç½®

v2ex-tui ä½¿ç”¨ Lisp æ ¼å¼çš„é…ç½®æ–‡ä»¶ï¼Œé¦–æ¬¡è¿è¡Œæ—¶ä¼šè‡ªåŠ¨ç”Ÿæˆé»˜è®¤é…ç½®åˆ° `~/.config/v2ex/config.lisp`ã€‚

### é…ç½®ç¤ºä¾‹

```lisp
; åŸºæœ¬è®¾ç½®
(set! "topics-per-page" 20)
(set! "replies-per-page" 20)
(set! "theme" "dark")
(set! "timestamp-format" "relative")

; åˆå§‹è§†å›¾è®¾ç½®
(set! "initial-view" "aggregate")
(set! "initial-tab" "tech")
(set! "initial-node" "python")

; æ ‡ç­¾é¡µé”®ä½æ˜ å°„ (èšåˆè§†å›¾)
; é…ç½®å“ªä¸ªé”®å¯¹åº”å“ªä¸ªæ ‡ç­¾
(tab-key "t" "tech")
(tab-key "c" "creative")
(tab-key "p" "play")
(tab-key "a" "apple")
(tab-key "j" "jobs")
(tab-key "d" "deals")
(tab-key "y" "city")
(tab-key "q" "qna")
(tab-key "i" "index")

; å°†é”®ç»‘å®šåˆ° switch-tab åŠ¨ä½œ
(define-key "view-aggregate" "t" "switch-tab")
(define-key "view-aggregate" "c" "switch-tab")
; ... å…¶ä»–é”®

; èŠ‚ç‚¹å¿«é€Ÿåˆ‡æ¢ (ä¸»é¢˜åˆ—è¡¨è§†å›¾)
; æ•°å­—é”® 1-9 å¯¹åº” favorite_nodes åˆ—è¡¨ä¸­çš„ç¬¬ n ä¸ªèŠ‚ç‚¹
(define-key "view-topic-list" "1" "switch-node")
(define-key "view-topic-list" "2" "switch-node")
; ... å…¶ä»–æ•°å­—é”®

; é“¾æ¥é€‰æ‹©é”®ä½æ˜ å°„
(link-key "a" 1)
(link-key "o" 2)
(link-key "e" 3)
; ... å…¶ä»–é”®

; å°†é”®ç»‘å®šåˆ° link-select åŠ¨ä½œ
(define-key "mode-link-selection" "a" "link-select")
(define-key "mode-link-selection" "o" "link-select")
; ... å…¶ä»–é”®
```

### é…ç½®å‡½æ•°è¯´æ˜

- **`(set! key value)`** - è®¾ç½®é…ç½®é¡¹ï¼Œå¦‚ topics-per-page, theme ç­‰
- **`(bind key action)`** - ç»‘å®šå…¨å±€å¿«æ·é”®
- **`(define-key keymap key action)`** - åœ¨æŒ‡å®š keymap ä¸­ç»‘å®šé”®
  - keymap å¯ä»¥æ˜¯: `global`, `view-*` (å¦‚ view-topic-list), `mode-*` (å¦‚ mode-replies)
- **`(tab-key key tab)`** - é…ç½®èšåˆè§†å›¾çš„æ ‡ç­¾é¡µå¿«æ·é”®æ˜ å°„
- **`(node-key key node)`** - é…ç½®èŠ‚ç‚¹å¿«é€Ÿåˆ‡æ¢æ˜ å°„ (å·²å¼ƒç”¨ï¼Œç°ä½¿ç”¨ favorite_nodes)
- **`(link-key key index)`** - é…ç½®é“¾æ¥é€‰æ‹©æ¨¡å¼çš„é”®ä½æ˜ å°„

## å¿«æ·é”®

### å…¨å±€å¯¼èˆª

| æŒ‰é”® | åŠŸèƒ½ |
|------|------|
| `n` / `â†“` | å‘ä¸‹ç§»åŠ¨ï¼ˆä¸‹ä¸€ä¸ªï¼‰/ å‘ä¸‹æ»šåŠ¨ |
| `p` / `â†‘` | å‘ä¸Šç§»åŠ¨ï¼ˆä¸Šä¸€ä¸ªï¼‰/ å‘ä¸Šæ»šåŠ¨ |
| `l` / `â†` | å†å²åé€€ï¼ˆä¸Šä¸€ä¸ªè§†å›¾ï¼‰ |
| `r` / `â†’` | å†å²å‰è¿›ï¼ˆä¸‹ä¸€ä¸ªè§†å›¾ï¼‰ |
| `Space` | å‘ä¸‹æ»šåŠ¨ |
| `C-v` | å‘ä¸‹ç¿»é¡µï¼ˆCtrl+vï¼‰ |
| `M-v` | å‘ä¸Šç¿»é¡µï¼ˆAlt+vï¼‰ |
| `PageUp` | å‘ä¸Šç¿»é¡µ / å¿«é€Ÿå‘ä¸Šæ»šåŠ¨ |
| `PageDown` | å‘ä¸‹ç¿»é¡µ / å¿«é€Ÿå‘ä¸‹æ»šåŠ¨ |
| `<` / `>` | è·³åˆ°ç¬¬ä¸€ä¸ª/æœ€åä¸€ä¸ªé¡¹ç›® |

### å…¨å±€æ“ä½œ

| æŒ‰é”® | åŠŸèƒ½ |
|------|------|
| `Enter` | æ‰“å¼€é€‰ä¸­çš„ä¸»é¢˜/é€šçŸ¥ |
| `g` | åˆ·æ–°å½“å‰è§†å›¾ |
| `m` | è½¬åˆ°é€šçŸ¥ï¼ˆæ¶ˆæ¯ï¼‰ |
| `u` | è½¬åˆ°ä¸ªäººèµ„æ–™ï¼ˆç”¨æˆ·ï¼‰ |
| `a` | è½¬åˆ°èšåˆä¸»é¢˜ï¼ˆRSS è®¢é˜…ï¼‰ |
| `?` | æ˜¾ç¤ºå¸®åŠ© |
| `q` / `Esc` | é€€å‡º / ä»å†å²ä¸­ç§»é™¤å½“å‰è§†å›¾ |
| `C-c` | **ç«‹å³é€€å‡ºåº”ç”¨** |

### ä¸»é¢˜åˆ—è¡¨

| æŒ‰é”® | åŠŸèƒ½ |
|------|------|
| `s` | ä»èœå•é€‰æ‹©èŠ‚ç‚¹ |
| `1-9` | å¿«é€Ÿåˆ‡æ¢èŠ‚ç‚¹ï¼ˆ1:python, 2:programmer, 3:åˆ†äº«å‘ç°, 4:åˆ†äº«åˆ›é€ , 5:é…·å·¥ä½œ, 6:go, 7:rust, 8:javascript, 9:linuxï¼‰ |
| `Enter` / `t` / `l` | æ‰“å¼€é€‰ä¸­çš„ä¸»é¢˜ |
| `+` | åŠ è½½æ›´å¤šä¸»é¢˜ï¼ˆåœ¨æœ«å°¾æ—¶è‡ªåŠ¨åŠ è½½ï¼‰ |
| `n` | ä¸‹ä¸€ä¸ªä¸»é¢˜ï¼ˆåˆ°è¾¾æœ«å°¾è‡ªåŠ¨åŠ è½½æ›´å¤šï¼‰ |

### ä¸»é¢˜è¯¦æƒ…

| æŒ‰é”® | åŠŸèƒ½ |
|------|------|
| `t` | åˆ‡æ¢å›å¤æ˜¾ç¤º |
| `o` | åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ä¸»é¢˜/å›å¤ |
| `f` | è¿›å…¥é“¾æ¥é€‰æ‹©æ¨¡å¼ |
| `w` | å°†é€‰ä¸­çš„å›å¤å¤åˆ¶åˆ°å‰ªè´´æ¿ |
| `N` / `P` | åœ¨ä¸»é¢˜ä¹‹é—´å¯¼èˆªï¼ˆè‡ªåŠ¨åŠ è½½æ›´å¤šï¼‰ |
| `1-9` | æ‰“å¼€æ£€æµ‹åˆ°çš„é“¾æ¥ï¼ˆå½“å†…å®¹ä¸­æ‰¾åˆ°é“¾æ¥æ—¶ï¼‰ |
| `+` | åŠ è½½æ›´å¤šå›å¤ï¼ˆåœ¨æœ«å°¾æ—¶è‡ªåŠ¨åŠ è½½ï¼‰ |
| `n` / `â†“` | ä¸‹ä¸€æ¡å›å¤ï¼ˆåˆ°è¾¾æœ«å°¾è‡ªåŠ¨åŠ è½½æ›´å¤šï¼‰ |
| `p` / `â†‘` | ä¸Šä¸€æ¡å›å¤ |

### é“¾æ¥é€‰æ‹©æ¨¡å¼

| æŒ‰é”® | åŠŸèƒ½ |
|------|------|
| `a,o,e,u,i,d,h,t,n,s` | è¾“å…¥é“¾æ¥å¿«æ·é”®ï¼ˆä¸»è¡Œå­—æ¯ï¼‰ |
| `Esc` / `q` / `C-g` | å–æ¶ˆé“¾æ¥é€‰æ‹© |

### èšåˆä¸»é¢˜ï¼ˆRSSï¼‰

| æŒ‰é”® | åŠŸèƒ½ |
|------|------|
| `t` / `c` / `k` | åˆ‡æ¢åˆ° tech/creative/play æ ‡ç­¾ |
| `a` / `j` / `d` | åˆ‡æ¢åˆ° apple/jobs/deals æ ‡ç­¾ |
| `y` / `z` / `i` | åˆ‡æ¢åˆ° city/qna/index æ ‡ç­¾ |
| `n` / `p` | å¯¼èˆªä¸»é¢˜ |
| `Enter` | åœ¨åº”ç”¨ä¸­æ‰“å¼€é€‰ä¸­çš„ä¸»é¢˜ |
| `o` | åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€é€‰ä¸­çš„ä¸»é¢˜ |
| `g` | åˆ·æ–°å½“å‰è§†å›¾ |

### èŠ‚ç‚¹é€‰æ‹©

| æŒ‰é”® | åŠŸèƒ½ |
|------|------|
| `n` / `p` | å¯¼èˆªèŠ‚ç‚¹åˆ—è¡¨ |
| `Enter` | é€‰æ‹©èŠ‚ç‚¹ |
| `Tab` | åˆ‡æ¢æ‰‹åŠ¨è¾“å…¥æ¨¡å¼ |
| `q`ï¼ˆè¾“å…¥æ¨¡å¼ï¼‰| è¾“å…¥å­—ç¬¦ 'q' |

### é€šçŸ¥è§†å›¾

| æŒ‰é”® | åŠŸèƒ½ |
|------|------|
| `n` / `p` | å¯¼èˆªé€šçŸ¥ |
| `Enter` | æ‰“å¼€é€‰ä¸­çš„é€šçŸ¥ |
| `g` | åˆ·æ–°é€šçŸ¥ |

### ä¸ªäººèµ„æ–™è§†å›¾

| æŒ‰é”® | åŠŸèƒ½ |
|------|------|
| `g` | åˆ·æ–°ä¸ªäººèµ„æ–™ |

## æ™ºèƒ½å¯¼èˆªåŠŸèƒ½

### è‡ªåŠ¨åŠ è½½
- åœ¨ä¸»é¢˜åˆ—è¡¨æŒ‰ `n` åˆ°è¾¾æœ€åä¸€ä¸ªä¸»é¢˜æ—¶ï¼Œè‡ªåŠ¨åŠ è½½æ›´å¤šä¸»é¢˜
- åœ¨å›å¤åˆ—è¡¨æŒ‰ `n` åˆ°è¾¾æœ€åä¸€æ¡å›å¤æ—¶ï¼Œè‡ªåŠ¨åŠ è½½æ›´å¤šå›å¤
- åœ¨ä¸»é¢˜è¯¦æƒ…æŒ‰ `N` åˆ°è¾¾æœ€åä¸€ä¸ªä¸»é¢˜æ—¶ï¼Œè‡ªåŠ¨åŠ è½½æ›´å¤šä¸»é¢˜

### è¾¹ç•Œæç¤º
- åˆ°è¾¾ç¬¬ä¸€ä¸ª/æœ€åä¸€ä¸ªé¡¹ç›®æ—¶æ˜¾ç¤ºæç¤ºä¿¡æ¯ï¼Œè€Œä¸æ˜¯å¾ªç¯å›åˆ°å¼€å¤´
- æç¤ºä¿¡æ¯ï¼š"Already at the first topic/reply" æˆ– "Already at the last topic/reply"

## é¡¹ç›®é“¾æ¥

- **GitHub**: https://github.com/fuzy112/v2ex-tui
- **V2EX**: https://www.v2ex.com

## æŠ€æœ¯æ ˆ

- **Rust** + **Tokio** - é«˜æ€§èƒ½å¼‚æ­¥è¿è¡Œæ—¶
- **Ratatui** + **Crossterm** - ç°ä»£åŒ–ç»ˆç«¯ç•Œé¢æ¡†æ¶
- **Reqwest** + **Serde** - HTTPå®¢æˆ·ç«¯ä¸JSONå¤„ç†
- **Nix** - å£°æ˜å¼å¼€å‘ç¯å¢ƒç®¡ç†

## è®¸å¯è¯

MIT
